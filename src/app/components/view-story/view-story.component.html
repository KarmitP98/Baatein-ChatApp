<ion-content fullscreen>
    <div class = "view-story">
        <ion-toolbar class = "header">
            <ion-buttons slot = "start">
                <ion-button (click) = "close(false)" fill = "clear"
                            shape = "round">
                    <ion-icon color = "light" name = "chevron-back"></ion-icon>
                </ion-button>
            </ion-buttons>
            <ion-title *ngIf = "storyUser" class = "title">
                {{storyUser.name}}'s Story
            </ion-title>
            <ion-buttons (click) = "showPopover($event)"
                         *ngIf = "currentUser?.uId === storyUser?.uId"
                         slot = "primary">
                <ion-button fill = "clear" shape = "round">
                    <ion-icon color = "light"
                              name = "ellipsis-vertical"></ion-icon>
                </ion-button>
            </ion-buttons>
        </ion-toolbar>
        <ion-slides #storySlides (ionSlideDidChange) = "onSlideChange()"
                    [options] = "slideOptions"
                    [pager] = "stories?.length > 1">
            <ion-slide *ngFor = "let story of stories; let i  = index">
                <img [src] = "story.fileURL" alt = "Story" class = "story">
                <div (click) = "slideTo(-1)" *ngIf = "currentIndex >= 1"
                     class = "slide slide-left" matRipple></div>
                <div (click) = "slideTo(1)" *ngIf = "currentIndex
                < (stories?.length - 1)" class = "slide slide-right"
                     matRipple></div>
            </ion-slide>
        </ion-slides>
    </div>
</ion-content>
