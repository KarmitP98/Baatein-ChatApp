<ion-header>
    <ion-toolbar color = "primary">
        <ion-title>Sign Up</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content class = "ion-padding ion-text-center">

    <div style = "height: 10vh; margin-bottom: 40%; margin-top: 5vh;">
        <h3>Welcome to New User Registration!</h3>
        <ion-avatar (click) = "openProfileSelector()"
                    style = "margin: auto; width: 100px; height: 100px;">
            <ion-img [src] = "proPic">
            </ion-img>
        </ion-avatar>
        <ion-button (click) = "openProfileSelector()">Pick an Avatar!
        </ion-button>
    </div>

    <form #signForm = "ngForm" (ngSubmit) = "signUp()">

        <mat-form-field>
            <mat-label>User Name</mat-label>
            <input (keypress) = '$event.key === "Enter" && signForm.valid ?
                   signUp() : ""' [(ngModel)] = "uName"
                   autocomplete = "false"
                   matInput
                   minlength = "3"
                   name = "userName"
                   placeholder = "George"
                   required
                   type = "text">
            <mat-icon matSuffix>
                <ion-icon name = "person"></ion-icon>
            </mat-icon>
        </mat-form-field>

        <br>

        <mat-form-field>
            <mat-label>User Email</mat-label>
            <input (keypress) = '$event.key === "Enter" && signForm.valid ?
                   signUp() : ""' [(ngModel)] = "uEmail" email
                   matInput
                   name = "userEmail"
                   placeholder = "george7921@gmail.com"
                   required
                   type = "email"
            >
            <mat-icon matSuffix>
                <ion-icon name = "mail"></ion-icon>
            </mat-icon>
        </mat-form-field>

        <br>
        <mat-form-field>
            <mat-label>Password</mat-label>
            <input (keypress) = '$event.key === "Enter" && signForm.valid ?
                   signUp() : ""' [(ngModel)] = "password"
                   matInput
                   minlength = "6"
                   name = "password"
                   placeholder = "******"
                   required
                   type = "password">
            <mat-icon matSuffix>
                <ion-icon name = "key"></ion-icon>
            </mat-icon>
        </mat-form-field>

        <ion-card-subtitle>
            <b>Note: </b>Password must contain atleast 6 characters!
        </ion-card-subtitle>

        <br>

        <mat-form-field>
            <mat-label>Phone Number</mat-label>
            <input (keypress) = '$event.key === "Enter" && signForm.valid ?
                   signUp() : ""' [(ngModel)] = "uPhone"
                   matInput
                   name = "phone"
                   pattern = "[0-9]{3}-[0-9]{3}-[0-9]{4}"
                   placeholder = "123-456-7890"
                   type = "tel">
            <mat-icon matSuffix>
                <ion-icon name = "call"></ion-icon>
            </mat-icon>
        </mat-form-field>

    </form>


    <ion-fab horizontal = "start" slot = "fixed" vertical = "bottom">
        <ion-fab-button color = "warning"
                        routerDirection = "back" routerLink = "/login">
            <ion-icon name = "chevron-back"></ion-icon>
        </ion-fab-button>
    </ion-fab>

    <ion-fab horizontal = "end" slot = "fixed" vertical = "bottom">
        <ion-fab-button (click) = "signUp()"
                        [disabled] = "!signForm.valid">
            <ion-icon name = "person-add"></ion-icon>
        </ion-fab-button>
    </ion-fab>

    <ion-fab horizontal = "center" vertical = "center">
        <ion-spinner *ngIf = "ds.loadingSubject | async"
                     color = "warning"></ion-spinner>
    </ion-fab>

</ion-content>
